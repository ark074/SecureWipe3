<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>BitShred SecureWipe</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"></head>
<body class="bg-light">
<div class="container py-5">
  <div class="text-center mb-4">
    <h1>BitShred SecureWipe</h1>
    <p class="text-muted">Secure, auditable data wiping</p>
  </div>
  <div class="card p-3 mb-3">
    <h5>Download Agent</h5>
    <div class="d-flex gap-2">
      <a class="btn btn-primary" href="/agents/agent.exe" download>Windows Agent (exe)</a>
      <a class="btn btn-primary" href="/agents/agent.AppImage" download>Linux Agent</a>
      <a class="btn btn-primary" href="/agents/agent.apk" download>Android Agent</a>
    </div>
    <small class="text-muted d-block mt-2">Agents are provided as build templates. Build your own signed binaries for production.</small>
  </div>
  <div class="card shadow mx-auto" style="max-width:720px;">
    <div class="card-body">
      <h4>Start a Wipe Job</h4>
      <input id="email" class="form-control mb-2" placeholder="Enter email to receive certificate" type="email">
      <select id="platform" class="form-select mb-2">
        <option value="windows">Windows</option>
        <option value="linux">Linux</option>
        <option value="android">Android</option>
      </select>
      <div class="form-check mb-2"><input id="confirm" class="form-check-input" type="checkbox"><label class="form-check-label">I confirm this will irreversibly erase data</label></div>
      <button class="btn btn-danger" onclick="createJob()">Start Wipe</button>
      <div id="msg" class="mt-2"></div>
    </div>
  </div>
</div>
<script>
async function createJob(){
  const email = document.getElementById('email').value;
  const platform = document.getElementById('platform').value;
  const confirm = document.getElementById('confirm').checked;
  if(!confirm){ alert('You must confirm'); return; }
  const res = await fetch('/api/create_job', {method:'POST', headers: {'Content-Type':'application/json'}, body: JSON.stringify({email, confirm, device: {platform}})});
  const data = await res.json();
  if(res.ok){ document.getElementById('msg').innerText = 'Job created: ' + data.job_id + '. Ensure agent is running on device.'; } else { document.getElementById('msg').innerText = 'Error: ' + JSON.stringify(data); }
}
</script>
</body></html>
